<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Che's Blog</title><meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://blog.chezs.me/posts/><link href=/assets/css/stylesheet.min.71b65386b0418b467e00f58efbf631f5b794cd903809a13b806c619e2cc7caa8.css integrity="sha256-cbZThrBBi0Z+APWO+/Yx9beUzZA4CaE7gGxhnizHyqg=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chezs.me/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chezs.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chezs.me/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chezs.me/apple-touch-icon.png><link rel=mask-icon href=https://blog.chezs.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.98.0"><link rel=alternate type=application/rss+xml href=https://blog.chezs.me/posts/index.xml><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-PROPERTY_ID","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://blog.chezs.me/posts/"><meta property="og:updated_time" content="2022-05-14T23:31:07+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://blog.chezs.me/ accesskey=h title="Che's Blog (Alt + H)"><img src=/images/logo.png alt=logo aria-label=logo height=30px>Che's Blog</a>
<span class=logo-switches><span class=theme-toggle title="(Alt + T)"><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://blog.chezs.me/dream/ title="Dream List"><span>Dream List</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>The Almanack of Naval Ravikant Reading Notes</h2></header><section class=entry-content><p>信息时代的杠杆 杠杆有三大类：
一类杠杆是人力——让其它人为你工作。这是最古老的杠杆类型，然而在现代社会这不是一个最大的杠杆。我认为这是最差的杠杆形式。管理他人是极其混乱的。它需要卓越的领导才能。你离被人背叛、被人吃掉、被人撕碎只有一步之遥。 一类比较好的杠杆是金钱。意味着你每次做出决定时，都会用钱与之相乘。资本是一类比较难使用的杠杆。它相对来说更现代。在上个世纪，有人用它获得了大财富。它可能是上个世纪最主要的杠杆类型。 最后一类杠杆是全新的——也是最民主的一类。它是：”没有边际复制成本的产品。“这些包括书籍、媒体、电影和代码。代码是最强大且无需许可的一种杠杆。你只需要一台电脑——你不需要任何人的许可。 判断力 1.判断力的价值：
一个智慧而富有判断力的人，首先要知道个人行为的长期结果，然而做出正确决策并付诸行动。
在信息时代，代码/出版物极大降低了边际复制成本，涌现了多种多样的杠杆。因此，正确的决策可以帮我们赢得一切。
2.判断力的基础一：清晰思考
真正的知识具有内在关联性，就像一根链条，从基础层面到应用层面环环相扣。掌握基础知识，用基础知识解读热点问题和新技术。头脑清晰的思考者能够建立自己的权威。
3.判断力的基础二：认清现实
有效决策体现在很多方面，其中一个关键是处理现实问题。要直面现实，就要放下自我，消除自我意识，忘记自我判断，平复自我情绪。
4.执行判断一：决策技巧
决策技巧能够对应到判断力的基础：
清晰思考：要选择长期来看收益最大的方法，而不是只顾眼前得失。 认清现实（放下偏见）：几乎所有的偏见都是为了帮助人们在信息不完整的情况下迅速做出判断（思考快与慢）。对于重要的决策，要抛开记忆和身份，专注问题本身。为了放下偏见，你要更坦诚。 5.执行判断二：心智模型
心智模型是我们理解世界的方式。它们不仅塑造了我们的思维和理解方式，而且塑造了我们对事物之间关系和机遇的洞察。心智模型是我们简化复杂性的手段，让我们能够回答为什么我们认为一些事情比其他事情更相关，以及我们如何推理，最终做出判断。
经典心智模型：进化论、博弈论、查理芒格心智模型等
6.持续增强判断力：热爱阅读，终身学习
阅读经典作品，关注底层原理和基础知识。以原著和经典为基础，能够获得足够完备的世界观和深刻的理解力。
7.小结
$$ 信息时代的杠杆 * [(清晰思考能力 + 认清现实能力) * (决策技巧 + 心智模型)] ^ {终身学习} $$...</p></section><footer class=entry-footer>May 14, 2022</footer><a class=entry-link aria-label="post link to The Almanack of Naval Ravikant Reading Notes" href=https://blog.chezs.me/posts/the-almanack-of-naval-ravikant-reading-notes/></a></article><article class=post-entry><header class=entry-header><h2>自卑与超越读后感</h2></header><section class=entry-content><p>自卑与超越 What Life Could Mean to You
本周学习了一本书《自卑与超越》，作者是阿尔弗雷德·阿德勒，他是著名心理学家弗洛伊德的学生，更是个体心理学学派的创始人。本书是他的代表作之一，围绕着“人生的意义”讨论了磨难、自卑感与超越的方法。指出：人类的行为皆出自于自卑感以及对自卑感的克服和超越。了解自身潜在阴影与缺陷，打破自身的枷锁，才能正确对待人生并超越自我。
我总结一下我学到的知识点：
第一部分：人生的意义 本书开篇便点出每个人打从出生就必须面对的人生三大约束以及相关问题：
我们无法离开地球生存 ➡️ 地球资源有限，为了生存，我应该如何工作？ 个人并不是唯一的人类 ➡️ 如何在社区中找到自己的定位，促进大家的合作和分享利益？ 人类有男女两种性别 ➡️ 面对男女有别、人类需要生存延续，我们应该如何调整自我？ 剩下的问题通常都是这三类问题的衍生或具象。
第二部分：自卑和优越感 当一个人面对某个问题毫无准备或手足无措时，就会认定自己不能解决问题，这种被夸大的不自信就被称为自卑情节。人有自卑感是正常的。有了自卑感，人才有动力进一步改善周围的环境。不幸的是，通常我们认为过于自卑的人通常在人生之初就遇到了阻碍。他们对人生的看法比较肤浅，因此遇到的难题更大，自卑感更强。
一个人获得优越感时可以摆脱自卑。获取优越感是一个很个性化的目标，是由个人对人生意义的理解而决定的。外界援助者需要结合帮助对象的个人经历、行为、语言等因素理解他的人生观，设身处地去体谅他为之付出的努力。
具体来说，对于“普通人”而言，如何获得优越感？因为人的社会性，如果我们追求的优越感包含对社会利益的高度关注，那么其意义会被更多人理解，个人也不容易烦更多错误。
第三部分：引导儿童选择职业 职业问题很常见，例如：
有些人经常用职业问题当借口，来逃避婚姻问题。 有些人对任何工作都不满意，他只想不费力就比别人强。这通常是受到溺爱的孩子 有些人只想安于现状，当个小职员就好 如何正确引导儿童的职业观？
发现孩子的兴趣：不仅仅是问“你长大想做什么工作？”，还可以结合“过家家”、“体育运动”等，发现孩子的兴趣 奋斗目标：努力比家里任何人强是孩子们最常见的奋斗目标之一，尤其是要比自己的父母强 将个人目标和社会利益绑定起来：举个反例，如果过度培养孩子重视金钱的观念，但不引导他关注社会，孩子完全可以通过犯法的途径获得金钱。这显然是错误的。 ...</p></section><footer class=entry-footer>May 10, 2022</footer><a class=entry-link aria-label="post link to 自卑与超越读后感" href=https://blog.chezs.me/posts/what-life-could-mean-to-you/></a></article><article class=post-entry><header class=entry-header><h2>微信小程序WASM现状更新</h2></header><section class=entry-content><p>1、兼容性是最大问题 线上情况：占比暂无，但已知一套检测方案
检测 WXWebAssembly 和 WXWebAssembly.instantiate 是否已定义 如未定义或遇到异常，则不兼容 实验情况：iOS不支持，高版本Android支持，低版本Android不支持。
iOS 15.4内置的Safari支持WASM，但微信侧做了限制。
2、功能差异 在加载➡️ 声明➡️ 调用三个阶段都有差异。
2.1、加载 目前仅支持代码包路径，不支持网络路径 编译出来的 .wasm 体积太大，超过代码包体积限制怎么办？ 方法一：把一个 wasm 文件拆分为多个 wasm 文件，然后利用分包加载能力来减少首包体积 方法二：使用 brotli 压缩 wasm 文件 不支持Compile API （端上无法做字节码增强了） 2.2、声明 export 支持函数、Memory、Table（基本够用）iOS 平台暂不支持 Global
2.3、调用 不支持Worker内调用WASM
3、小结 最大的问题还是兼容性，兼容性主要受到操作系统版本影响。升级的周期较长，短期恐怕难以大规模应用。因此基于WASM增强端上能力的思路短期难以落地。
微信小程序为了做卡控，对WASM的加载、声明和调用做了一系列限制，但整体可以接受。...</p></section><footer class=entry-footer>February 15, 2022</footer><a class=entry-link aria-label="post link to 微信小程序WASM现状更新" href=https://blog.chezs.me/posts/wechat-miniprogram-wasm/></a></article><article class=post-entry><header class=entry-header><h2>从微服务的反模式联想到微前端</h2></header><section class=entry-content><p>微前端借鉴了微服务的思想，因此我联想到可以从微服务的反模式吸取经验，更好地落地微前端。
微服务架构的好处包括便于测试，快速，易于部署，细粒度的可扩展性，模块化和敏捷性。然而，开发微服务的时候陷入了服务粒度，数据迁移，组织形式改变和分布式处理的斗争中。
典型的微服务反模式 服务粒度地狱 服务粒度至关重要，它会影响应用的性能、健壮性、可靠性、可测性、甚至发布模型。
服务粒度应该随着业务渐进式发展，但是社区提供了衡量服务粒度的参考。
衡量服务粒度的标准包括：
服务的范围/功能：当一个操作和基本的CRUD操作无关，那么大概率应该拆分为单独的服务 数据库事务：如果不能实现ACID事务，那么大概率要拆分为多个微服务，并达成最终一致性 服务编排的复杂度：当一个逻辑需要调用多个服务时，服务粒度可能太细 依赖地狱 微服务是一种无共享的架构，但是总有一些代码会在微服务之间共享。比如不提供一个身份验证的微服务，而是将身份验证的代码打包成一个jar文件：security.jar，其它服务都能使用。如果安全检查是服务级别的功能，每个服务接收到请求都会检查安全性，这种方式可以很好的提高性能。
但是这会引起依赖地狱。（依赖过多，多重依赖，依赖冲突，依赖循环）最终导致系统性问题，例如安装大量依赖或无法工作。
典型场景包括4种：共享仓库，共享类库，复制，整合（整合可能是相对优雅的依赖处理方案，做成一个单独的服务）
其他 数据迁移和分布式处理与前端的关联似乎不紧密。
微前端反模式 结合微服务的反模式，我总结了两个典型问题的对策。
粒度地狱 可以分析以下几个关键问题，确认是否进行拆分：
性能：评估白屏时间、秒开率，以及完成核心业务流程需要经历的操作、页面跳转 可靠性：评估是否容易被其他业务影响 可测性：评估当前页面是否大量依赖其他业务的流程、数据 发布模型：评估能否独立发布，业务闭环 依赖地狱 可以分析以下几个关键问题：
数量：依赖数量避免过多 形式：NPM包、平台服务（SSO、权限等）、共享仓库、DLL js等 可用性：依赖的测试质量、SLA等 维护团队：评估维护团队是否可靠 ...</p></section><footer class=entry-footer>October 26, 2021</footer><a class=entry-link aria-label="post link to 从微服务的反模式联想到微前端" href=https://blog.chezs.me/posts/anti-pattern-from-micro-service-to-micro-frontend/></a></article><article class=post-entry><header class=entry-header><h2>随想 2021 08</h2></header><section class=entry-content><p>无论软件开发的酸甜苦辣，计算机和互联网确实给21世纪00年至20年的程序员带来了一笔不小的财富，很多人确实得到了一些收获。比如我自己，在买房买车后，确实产生了一种“升职加薪 当上总经理 出任CEO 赢取白富美 走上人生巅峰 想想还有点小激动”的心态。但是，物质生活的刺激确实不够持久。在激素逐渐回归到常态后，我开始陷入迷茫和痛苦。
我开始不由自主地思考一些抽象的问题，比如，我的人生目标是什么？我尝试着进行回答，例如一个美满的家庭，技术上的突破，开博物馆等等。这些回答看起来有些不着边际，像一个不知所措的人在迷茫中挣扎。
所幸，已经有很多伟人、大师思考过此类问题，遗留了一本本名著，是后人在迷茫中的灯塔，是后人被社会毒打时的盔甲，也是后人自我救赎的指南。
瓦尔登湖是一本讲述隐居故事的书。和Gap Year一样，隐居并不是单纯地逃离社会，而是主动地通过控制影响因素，在不断自我创造的过程中，寻找人生价值的过程。这个过程应该是内心平和地、充满动力地生活，自我依赖和持续创造。在这个过程中，发现人生价值，获得幸福。
回到我自己，家庭和社会因素导致我很难有隐居的机会，但是我仍然可以在日常生活中体验这个过程。比如装修房子，有人喜欢全权委派装修公司，有人喜欢轻工辅料，有人甚至自己动手。由于家庭和工作，我选择轻工辅料，跟进装修的过程中让我体验到为自己付出的满足感，以及选材、设计过程中的快乐。
在技术领域和职业生涯方面，我同样需要创造这样的过程。我想，这个过程可能会从一个比较抽象的问题开始，但是我甚至还没有找到这个问题。那么，让我学习如何提问吧。...</p></section><footer class=entry-footer>August 28, 2021</footer><a class=entry-link aria-label="post link to 随想 2021 08" href=https://blog.chezs.me/posts/thinking-at-2021-08/></a></article><article class=post-entry><header class=entry-header><h2>鲜活的数据-读书笔记</h2></header><section class=entry-content><p>清明假期阅读了《鲜活的数据》，这是一本数据可视化入门读物，可以作为《用图表说话》的补充。《用图表说话》，从“确定要表达的信息”出发，“确定相对关系”，最后“选择图表形式”。但是我们有时并不知道“要表达的信息”，《鲜活的数据》给出了一些帮助。
数据可视化通常关注：数据之间的关系、分布、模式和异常。
当数据的维度较少时，一切都很直观。一旦开始考虑更多因素，数据间的关系变得更加复杂，我们可以用数据可视化的方式发现并强调这些关系。
发现关系、分布和模式 第一个方面，发现关系和分布:
两个维度：散点图+回归拟合曲线 通常就够了 三个维度：可以考虑气泡图 多个维度：散点图矩阵，例如Matlab, AntV 多个维度：直方图矩阵 发现差异 第二个方面是发现差异，有时候也意味着发现关键点。
多个维度：热点图、雷达图 多个维度：平行坐标图 减少维度 第三个方面，多个维度太复杂了，需要减少维度。通常会把数据分组。
多维向量法：手动分组，或者分类、聚类 作者提供的一些材料 https://flowingdata.com
图表矩阵
热点图
平行坐标图...</p></section><footer class=entry-footer>April 6, 2021</footer><a class=entry-link aria-label="post link to 鲜活的数据-读书笔记" href=https://blog.chezs.me/posts/visualize-this-reading-note/></a></article><article class=post-entry><header class=entry-header><h2>风险管理入门</h2></header><section class=entry-content><p>风险管理主要包括：风险识别、风险量化、风险对策
风险识别 收集信息：包括技术复杂度、排期、分工等，涉及技术/人员/时间等多方面成本 执行：贯穿在整个项目中，常见方法：日会、问题同步、checklist 结果：风险事件、风险因素、风险征兆 风险量化 风险的容忍程度：结果指标、上线时间等 执行： 结果指标：求解/模拟期望结果指标 上线时间：给出多种方案的排期 风险对策： 方法论： 避免：针对性的排除特定风险点 减缓：减少投入等 吸纳：准备预防性方案，同时做好被动接受失败的准备 收集信息：当前面临的风险，已经发生的事故 执行： 针对性解决风险点：找主R解决问题，同时进一步思考这是一个事件还是一系列事件，发现背后的问题 减少投入：如果条件允许，减少投入 预防性方案：针对风险征兆，准备兜底 结果： 技术：技术方案、原型、预估收益、预防性方案 协作：协作流程，多方达成一致，主R，定期会议机制 组织：定目标、内部分工 ...</p></section><footer class=entry-footer>March 9, 2021</footer><a class=entry-link aria-label="post link to 风险管理入门" href=https://blog.chezs.me/posts/risk-manage-getting-started/></a></article><article class=post-entry><header class=entry-header><h2>再次认识V8引擎</h2></header><section class=entry-content><p>本文于2020.01.03发表到掘金
背景 最近RN新版本支持了V8引擎，也给我一个契机重新认识V8。本文共有2部分，一部分阐述V8内部的组成和优化技术，另一部分阐述V8和RN的关系。
解释与编译：JS在V8的执行过程 如下图所示，JS在V8的执行过程分为解释和编译两种模式。
分为2种模式的原因主要在于：
把JS源码解释为字节码，减少机器码占用的内存空间，牺牲时间换空间 优先进行解释，提高代码的启动速度 针对特定的方法（例如高频调用），JIT编译为机器码，保证运行性能 分层解释与编译，保证V8可维护性 如果考虑垃圾回收，执行过程也可以这样表示。
解释器 Ignition 解释器的输入是JS源码，输出是字节码（bytecode）。同时，还会输出Feedback Vector。
像其他解释器一样，Ignition先根据源码构建AST，接着把AST转换成bytecode，最终在VM上解释运行。
设计bytecode 在设计bytecode时，Ignition采用了Registry Machine来表示bytecode。由于bytecode是机器码的一种抽象表示，因此以Registry Machine的形式表示bytecode，可以让bytecode自然而然地被解释运行。
Ignition使用了r0，r1，r2……和一个acc加法寄存器。
举例：
注意看 LdaNamedProperty a0, [0], [4]，LdaNamedProperty对应着读取obj.x的行为，其中，a0映射到obj，[0]映射到x，[4]映射到Feedback Vector，用来做性能优化。
Feedback Vector Ignition在解释JS源码时，会构建Feedback Vector，并共享给TurboFan。Feedback的结构主要包括4点：
SharedFunctionInfo：闭包的描述信息 Invocation count: 代表这个闭包被执行的次数 Optimized Code: 标记是否存在TurboFan编译出来的优化代码 BinaryOp：记录了闭包输入输出的类型 举例：
function add(x, y) { return x + y } add(1, 2); - feedback vector: 0xb5101eaa091: [FeedbackVector] in OldSpace - length: 1 SharedFunctionInfo: 0xb5101ea99c9 &lt;SharedFunctionInfo add> Optimized Code: 0 Invocation Count: 1 Profiler Ticks: 0 Slot #0 BinaryOp BinaryOp:SignedSmall 注意看BinaryOp:SignedSmall，它的含义是返回了SignedSmall类型。...</p></section><footer class=entry-footer>February 15, 2021</footer><a class=entry-link aria-label="post link to 再次认识V8引擎" href=https://blog.chezs.me/posts/v8-engine-overall/></a></article><article class=post-entry><header class=entry-header><h2>Hello Word</h2></header><section class=entry-content><p>Hello Word :D...</p></section><footer class=entry-footer>February 15, 2021</footer><a class=entry-link aria-label="post link to Hello Word" href=https://blog.chezs.me/posts/hello-word/></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.chezs.me/>Che's Blog</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.replaceState(null,null,`#${e}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>